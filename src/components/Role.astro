---
interface Props {
    where: string;
    when: string;
    title: string;
    sublistTitle?: string;
    sublist?: string;
    listTitle?: string;
    list: string;
    isEnd?: boolean;
}

const {where, when, title, sublistTitle, sublist, listTitle, list, isEnd = false} = Astro.props;
---

<div class:list={[" ml-0.5 space-y-0.5 block border-l-2 border-new-text-450 pl-1", isEnd && 'mb-2']}>
    <div class="font-medium inter text-sm">{where}</div>
    <div class="text-sm text-gray-500">{when}</div>
</div>

<div class:list={['min-w-0', isEnd && 'mb-2']}>
    <div class="italic bg-new-text-400 border-l-2 border-new-text-450 pl-2 text-sm mb-1 text-light-text-900">{title}</div>
    {sublistTitle && sublist && (
        <div class="pl-1 text-sm mb-1">{sublistTitle}:</div>
        <ul class="list-disc list-outside text-sm font-normal mb-1 ml-5">
            {sublist.split("\n").map(item => <li class="mb-0.5">{item}</li>)}
        </ul>
    )}

    {listTitle && (
        <div class="pl-1 text-sm mb-1">{listTitle}:</div>
    )}
    <ul class="list-disc list-outside text-sm font-normal mb-2 ml-5">
        <!-- Built a prototype for a modern social platform focused on structured discourse.
        Core logic in Go, and performant modules in C++.
        Frontend developed with Svelte 5 and Tailwind.
        Planned cloud-native systems using Docker, CI/CD, and Cloud Storage.
        Investigated AV1 and VP9 video codecs, CUDA encoding, and ASICs. -->
        {list.split("\n").map(item => <li class="mb-0.5">{item}</li>)}
    </ul>
</div>

<!-- <li>Built a prototype for a modern social platform focused on structured discourse.</li>
        <li>Core logic in Go, and performant modules in C++.</li>
        <li>Frontend developed with Svelte 5 and Tailwind.</li>
        <li>Planned cloud-native systems using Docker, CI/CD, and Cloud Storage.</li>
        <li>Investigated AV1 and VP9 video codecs, CUDA encoding, and ASICs.</li> -->